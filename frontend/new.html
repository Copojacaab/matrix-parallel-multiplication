<!-- pagina di creation per il job 
    1) ui con due textarea, valori separati da space e virgola, 
        righe separate da newline
    2)fa la richiesta di post al server
    3)redirect automatico a status
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New</title>
    <link rel="stylesheet" href="css/style.css">
    <script defer src="js/new.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <div class="brand">
                <div class="logo">Mx</div>
                    <span>MatrixLab</span>
            </div>
            <nav>
                <a class="btn" href="index.html">Home</a>
                <a class="btn" href="history.html">Cronologia</a>
                <a class="btn" href="about.html">About</a>
            </nav>
        </header>

        <main>
            <h1 style="margin: 16px 0 8px">Nuovo calcolo</h1>
            <p class="help">Inserisci <strong>matrice A</strong> e <strong>matrice B</strong></p>

            <div class="grid">
                <section class="card">
                    <h2 id="labA">Matrice A</h2>
                    <p class="help">Dimensioni libere m√ón. Assicurati che tutte le righe abbiano lo stesso numero di valori.</p>
                    <textarea id="matA" placeholder="1 2 3\n4 5 6"></textarea>
                    <div class="row">
                        <span id="shapeA" class="pill">‚Äî</span>
                        <span id="errA" class="msg err" hidden></span>
                    </div>
                </section>
                <section class="card">
                    <h2 id="labB">Matrice B</h2>
                    <p class="help">Deve essere n√óp: il numero di colonne di A deve uguale al numero di righe di B.</p>
                    <textarea id="matB" placeholder="1 2 3\n4 5 6"></textarea>
                    <div class="row">
                        <span id="shapeB" class="pill">‚Äî</span>
                        <span id="errB" class="msg err" hidden></span>
                    </div>
                </section>

                
                <section class="card" style="margin-top:16px">
                <h2>Generazione casuale</h2>
                <p class="help">
                    Scegli <strong>m, n, p</strong> e un intervallo numerico;
                    verranno create A(<em>m√ón</em>) e B(<em>n√óp</em>) con valori interi casuali.
                </p>

                <div class="row">
                    <div class="group">
                    <span class="pill">m (righe A)</span>
                    <input id="gen-m"  type="number" min="1" value="3" class="input number">
                    </div>

                    <div class="group">
                    <span class="pill">n (colonne A = righe B)</span>
                    <input id="gen-n"  type="number" min="1" value="3" class="input number">
                    </div>

                    <div class="group">
                    <span class="pill">p (colonne B)</span>
                    <input id="gen-p"  type="number" min="1" value="3" class="input number">
                    </div>
                </div>

                <div class="row">
                    <div class="group">
                    <span class="pill">min</span>
                    <input id="gen-min" type="number" value="-9" class="input number">
                    </div>

                    <div class="group">
                    <span class="pill">max</span>
                    <input id="gen-max" type="number" value="9" class="input number">
                    </div>

                    <button id="btnRandom" class="btn">üé≤ Genera matrici</button>
                </div>

                <p class="help" style="margin-top:8px">
                    Nota: B avr√† automaticamente <code>n</code> righe; i valori sono interi uniformi nell'intervallo [min, max].
                </p>
                </section>
                
                <section class="card" style="margin: 16px 0 8px;">
                    <h2>Invio</h2>
                    <p class="help">Alla pressione di ‚ÄúAvvia calcolo‚Äù, il frontend e invia 
                        una <strong>POST</strong> a <code>/api/jobs</code>. 
                        Se il backend risponde <code>202</code> con <code>{ jobId }</code>, 
                        verrai reindirizzato a <code>status.html?jobId=...</code>.
                    </p>
                    <div class="actions">
                        <button id="btnStart" class="btn primary">‚ñ∂ Avvia calcolo</button>
                        <span id="feedback" class="msg"></span>
                    </div>
                    
                    <div id="summary" class="summary"></div>
                </section>
            </div>
        </main>
    </div>
</body>
</html>